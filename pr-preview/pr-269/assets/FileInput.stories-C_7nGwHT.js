import{r as h,j as t}from"./iframe-Bam2g8_D.js";import{I as L,F as G,f as Q}from"./FormFieldLayout.stories.helper-B4FfCZ33.js";import{I}from"./Icon-J_EPWpsB.js";import{a as Y,b as M,u as Z,r as S}from"./recursica-Cxwqz909.js";import{u as ee,C as te,I as ae}from"./Input-D-4aUrER.js";import{u as T,f as le}from"./UnstyledButton-CfJmcDse.js";import"./preload-helper-PPVm8Dsz.js";import"./Label-B65Uo6xk.js";import"./ErrorText-L_5cdcE1.js";const re={multiple:!1},B=h.forwardRef((e,a)=>{const{onChange:l,children:r,multiple:s,accept:f,name:n,form:m,resetRef:o,disabled:i,capture:_,inputProps:b,...v}=T("FileButton",re,e),d=h.useRef(null),w=()=>{!i&&d.current?.click()},y=c=>{if(c.currentTarget.files===null)return l(s?[]:null);l(s?Array.from(c.currentTarget.files):c.currentTarget.files[0]||null)};return Y(o,()=>{d.current&&(d.current.value="")}),t.jsxs(t.Fragment,{children:[t.jsx("input",{style:{display:"none"},type:"file",accept:f,multiple:s,onChange:y,ref:M(a,d),name:n,form:m,capture:_,...b}),r({onClick:w,...v})]})});B.displayName="@mantine/core/FileButton";const ne=({value:e})=>t.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(e)?e.map(a=>a.name).join(", "):e?.name}),oe={valueComponent:ne},N=le((e,a)=>{const l=T("FileInput",oe,e),{unstyled:r,vars:s,onChange:f,value:n,defaultValue:m,multiple:o,accept:i,name:_,form:b,valueComponent:v,clearable:d,clearButtonProps:w,readOnly:y,capture:u,fileInputProps:c,rightSection:P,size:g,placeholder:z,component:H,resetRef:U,classNames:j,styles:q,attributes:R,...W}=l,k=h.useRef(null),{resolvedClassNames:K,resolvedStyles:O}=ee({classNames:j,styles:q,props:l}),[p,A]=Z({value:n,defaultValue:m,onChange:f,finalValue:o?[]:null}),D=Array.isArray(p)?p.length!==0:p!==null,J=P||(d&&D&&!y?t.jsx(te,{...w,variant:"subtle",onClick:()=>A(o?[]:null),size:g,unstyled:r}):null);return h.useEffect(()=>{(Array.isArray(p)&&p.length===0||p===null)&&k.current?.()},[p]),t.jsx(B,{onChange:A,multiple:o,accept:i,name:_,form:b,resetRef:M(k,U),disabled:y,capture:u,inputProps:c,children:X=>t.jsx(L,{component:H||"button",ref:a,rightSection:J,...X,...W,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:l,unstyled:r,size:g,classNames:j,styles:q,attributes:R,children:D?t.jsx(v,{value:p}):t.jsx(ae.Placeholder,{__staticSelector:"FileInput",classNames:K,styles:O,attributes:R,children:z})})})});N.classes=L.classes;N.displayName="@mantine/core/FileInput";const ie=N;var E={root:"_1sd2x8z0",label:"_1sd2x8z1",closeButton:"_1sd2x8z2"};const F=h.forwardRef(({label:e,onClose:a,className:l,...r},s)=>{const f=n=>{a&&(n.key==="Delete"||n.key==="Backspace"||n.key==="Enter")&&(n.preventDefault(),n.stopPropagation(),a())};return t.jsxs("div",{ref:s,className:`${E.root} ${l||""}`,onClick:a,onKeyDown:f,role:"button",tabIndex:0,"aria-label":`Remove ${e}. Press Delete, Backspace, or Enter to remove.`,...r,children:[t.jsx("span",{className:E.label,children:e}),a&&t.jsx("div",{className:E.closeButton,onClick:n=>{n.stopPropagation(),a()},children:t.jsx(I,{name:"x_mark_solid",size:16,color:"currentColor"})})]})});F.displayName="MultiFileChip";try{F.displayName="MultiFileChip",F.__docgenInfo={description:"",displayName:"MultiFileChip",props:{label:{defaultValue:null,description:"The text label to display in the chip",name:"label",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"Callback function when the close button is clicked",name:"onClose",required:!1,type:{name:"(() => void) | undefined"}},className:{defaultValue:null,description:"Additional CSS class name",name:"className",required:!1,type:{name:"string | undefined"}}}}}catch{}const V=({value:e,onRemove:a})=>!e||e.length===0?null:t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:e.map((l,r)=>t.jsx(F,{label:l.name,onClose:a?()=>a(r):void 0},`${l.name}-${r}`))});try{V.displayName="MultiFileValueComponent",V.__docgenInfo={description:"",displayName:"MultiFileValueComponent",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"File[] | null"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"((index: number) => void) | undefined"}}}}}catch{}var se="_2ow3wh0",ue="_2ow3wh1",ce="_2ow3wh2",de="_2ow3wh3",$="_2ow3wh4",pe="_2ow3wh5",fe="_2ow3wh6",me="_2ow3wh7",he="_2ow3wh8",ye="_2ow3wh9",_e="_2ow3wha",be="_2ow3whb",ve="_2ow3whc",we="_2ow3whd";const x=h.forwardRef((e,a)=>{const{State:l,Upload_icon:r=!0,Clear_icon:s=!0,disabled:f,error:n,value:m,onChange:o,...i}=e,_=u=>{if(Array.isArray(m)&&o){const c=m.filter((P,g)=>g!==u);o(c)}},b=()=>l&&l!=="Enabled"?l:e.disabled?"Disabled":e.error||e.Error_text?"Error":"Enabled",v=u=>{switch(u){case"Enabled":return $;case"Disabled":return pe;case"Error":return fe;case"Error focused":return me;case"Focused":return he;default:return $}},d=()=>e.disabled?"":e.error||e.Error_text?_e:ye,w=b(),y=d();return t.jsx(G,{...e,children:t.jsx(ie,{...i,ref:a,disabled:f,error:n,value:m,onChange:o,leftSection:r?t.jsx(I,{name:"arrow_up_tray_solid",size:S.uiKit["file-input/size/icon"],color:S.uiKit["file-input/color/upload-icon"]}):e.leftSection,leftSectionPointerEvents:r?"none":e.leftSectionPointerEvents,rightSection:s&&!e.multiple?t.jsx(I,{name:"x_mark_solid",size:S.uiKit["file-input/size/icon"],color:S.uiKit["file-input/color/clear-icon"],onClick:()=>{o&&o(null)}}):e.rightSection,valueComponent:e.multiple?u=>{const c=Array.isArray(u.value)?u.value:null;return t.jsx(V,{value:c,onRemove:_})}:void 0,classNames:{...typeof i.classNames=="object"?i.classNames:{},wrapper:`${se} ${v(w)} ${y} ${typeof i.classNames=="object"&&i.classNames?.wrapper||""}`,input:`${ue} ${r?ce:""} ${s?de:""} ${typeof i.classNames=="object"&&i.classNames?.input||""}`,section:`${be} ${r?ve:""} ${s?we:""}`}})})});x.displayName="FileInput";try{x.displayName="FileInput",x.__docgenInfo={description:"",displayName:"FileInput",props:{State:{defaultValue:null,description:"Visual state for visual testing purposes.  Not used for actual logic",name:"State",required:!0,type:{name:"enum",value:[{value:'"Enabled"'},{value:'"Disabled"'},{value:'"Error"'},{value:'"Error focused"'},{value:'"Focused"'}]}},Upload_icon:{defaultValue:null,description:"Show/hide the upload icon.  Default is true",name:"Upload_icon",required:!0,type:{name:"boolean"}},Clear_icon:{defaultValue:null,description:"Show/hide the clear icon (optional)",name:"Clear_icon",required:!0,type:{name:"boolean"}},Layout:{defaultValue:null,description:"Layout orientation - stacked (top) or side-by-side (left).  Default is stacked",name:"Layout",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"Stacked"'},{value:'"Side-by-side"'}]}},Label:{defaultValue:null,description:"The label component.  This is typically just a string, but if you want to use your own label component, you can",name:"Label",required:!1,type:{name:"ReactNode"}},LabelProps:{defaultValue:null,description:"Props to be passed to the label component if its a custom component",name:"LabelProps",required:!1,type:{name:"(FigmaProps & InputLabelProps & DataAttributes) | undefined"}},required:{defaultValue:{value:"`false`"},description:`Sets if the field is required.  Passed down to the underlying component
Adds required attribute to the input and a red asterisk on the right side of label`,name:"required",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:null,description:"Sets if the field is disabled.  Passed down to the underlying component\nSets `disabled` attribute on the `input` element",name:"disabled",required:!1,type:{name:"boolean | undefined"}},Indicator:{defaultValue:null,description:"Optional.  Set to true if field is optional",name:"Indicator",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"none"'},{value:'"optional"'},{value:'"asterisk / truncate overflow"'},{value:'"asterisk / full label text"'}]}},Help_text:{defaultValue:null,description:"Help text to be shown.  Maps to the mantine description prop",name:"Help_text",required:!1,type:{name:"ReactNode"}},Help_textProps:{defaultValue:null,description:"Custom help text component.  If provided, the Help_text prop will be ignored",name:"Help_textProps",required:!1,type:{name:"(HelpTextProps & DataAttributes) | undefined"}},Error_text:{defaultValue:null,description:"Error text to be shown.  Maps to the mantine error prop",name:"Error_text",required:!1,type:{name:"ReactNode"}},Error_textProps:{defaultValue:null,description:"Custom error text component.  If provided, the Error_text prop will be ignored",name:"Error_textProps",required:!1,type:{name:"(ErrorTextProps & DataAttributes) | undefined"}},Show_label:{defaultValue:null,description:"Shows/hides the label",name:"Show_label",required:!1,type:{name:"boolean | undefined"}},children:{defaultValue:null,description:"The Mantine form component to wrap (e.g., TextInput, Select, etc.)",name:"children",required:!1,type:{name:"ReactElement<MantineComponentProps, string | JSXElementConstructor<any>> & ReactNode"}}}}}catch{}const je={title:"Components/FileInput",component:x,argTypes:{...Q,multiple:{control:"boolean",description:"Allow multiple file selection"},State:{control:{type:"select"},options:["Enabled","Disabled","Error","Error focused","Focused"],description:"Visual state for testing purposes"},Upload_icon:{control:"boolean",description:"Show/hide the upload icon"},Clear_icon:{control:"boolean",description:"Show/hide the clear icon"}}},xe=e=>{const[a,l]=h.useState(null);return t.jsx(x,{...e,value:a,onChange:l})},C={args:{Label:"File Input",State:"Enabled",Upload_icon:!0,Clear_icon:!0,Help_text:"Select files to upload",Error_text:"",required:!1,disabled:!1,multiple:!1,placeholder:"Select a file"},render:xe};C.parameters={...C.parameters,docs:{...C.parameters?.docs,source:{originalSource:`{
  args: {
    Label: "File Input",
    State: "Enabled",
    Upload_icon: true,
    Clear_icon: true,
    Help_text: "Select files to upload",
    Error_text: "",
    required: false,
    disabled: false,
    multiple: false,
    placeholder: "Select a file"
  },
  render: FileInputDemo
}`,...C.parameters?.docs?.source}}};const qe=["Default"];export{C as Default,qe as __namedExportsOrder,je as default};
