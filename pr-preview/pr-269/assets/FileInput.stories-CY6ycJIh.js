import{r as h,j as t}from"./iframe-KUC0fElV.js";import{I as D,F as J,f as X}from"./FormFieldLayout.stories.helper-B_soEHbe.js";import{u as G,C as Q,I as Y}from"./Input-vAkter1B.js";import{u as L,f as Z}from"./UnstyledButton-D4dq6EM1.js";import{a as ee,b as $,u as te}from"./use-uncontrolled-KKj7lRBt.js";import"./preload-helper-PPVm8Dsz.js";import"./Label-Cketuj4s.js";import"./ErrorText-CrWYj6mc.js";const ae={multiple:!1},M=h.forwardRef((e,a)=>{const{onChange:l,children:o,multiple:p,accept:f,name:r,form:m,resetRef:s,disabled:n,capture:b,inputProps:_,...x}=L("FileButton",ae,e),d=h.useRef(null),v=()=>{!n&&d.current?.click()},y=u=>{if(u.currentTarget.files===null)return l(p?[]:null);l(p?Array.from(u.currentTarget.files):u.currentTarget.files[0]||null)};return ee(s,()=>{d.current&&(d.current.value="")}),t.jsxs(t.Fragment,{children:[t.jsx("input",{style:{display:"none"},type:"file",accept:f,multiple:p,onChange:y,ref:$(a,d),name:r,form:m,capture:b,..._}),o({onClick:v,...x})]})});M.displayName="@mantine/core/FileButton";const le=({value:e})=>t.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(e)?e.map(a=>a.name).join(", "):e?.name}),re={valueComponent:le},V=Z((e,a)=>{const l=L("FileInput",re,e),{unstyled:o,vars:p,onChange:f,value:r,defaultValue:m,multiple:s,accept:n,name:b,form:_,valueComponent:x,clearable:d,clearButtonProps:v,readOnly:y,capture:i,fileInputProps:u,rightSection:I,size:g,placeholder:T,component:B,resetRef:H,classNames:N,styles:j,attributes:q,...U}=l,P=h.useRef(null),{resolvedClassNames:z,resolvedStyles:O}=G({classNames:N,styles:j,props:l}),[c,R]=te({value:r,defaultValue:m,onChange:f,finalValue:s?[]:null}),k=Array.isArray(c)?c.length!==0:c!==null,W=I||(d&&k&&!y?t.jsx(Q,{...v,variant:"subtle",onClick:()=>R(s?[]:null),size:g,unstyled:o}):null);return h.useEffect(()=>{(Array.isArray(c)&&c.length===0||c===null)&&P.current?.()},[c]),t.jsx(M,{onChange:R,multiple:s,accept:n,name:b,form:_,resetRef:$(P,H),disabled:y,capture:i,inputProps:u,children:K=>t.jsx(D,{component:B||"button",ref:a,rightSection:W,...K,...U,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:l,unstyled:o,size:g,classNames:N,styles:j,attributes:q,children:k?t.jsx(x,{value:c}):t.jsx(Y.Placeholder,{__staticSelector:"FileInput",classNames:z,styles:O,attributes:q,children:T})})})});V.classes=D.classes;V.displayName="@mantine/core/FileInput";const ne=V;var S={root:"_1sd2x8z0",label:"_1sd2x8z1",closeButton:"_1sd2x8z2",closeIcon:"_1sd2x8z3"};const C=h.forwardRef(({label:e,onClose:a,className:l,...o},p)=>{const f=r=>{a&&(r.key==="Delete"||r.key==="Backspace"||r.key==="Enter")&&(r.preventDefault(),r.stopPropagation(),a())};return t.jsxs("div",{ref:p,className:`${S.root} ${l||""}`,onClick:a,onKeyDown:f,role:"button",tabIndex:0,"aria-label":`Remove ${e}. Press Delete, Backspace, or Enter to remove.`,...o,children:[t.jsx("span",{className:S.label,children:e}),a&&t.jsx("div",{className:S.closeButton,onClick:r=>{r.stopPropagation(),a()},children:t.jsxs("svg",{className:S.closeIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})});C.displayName="MultiFileChip";try{C.displayName="MultiFileChip",C.__docgenInfo={description:"",displayName:"MultiFileChip",props:{label:{defaultValue:null,description:"The text label to display in the chip",name:"label",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"Callback function when the close button is clicked",name:"onClose",required:!1,type:{name:"(() => void) | undefined"}},className:{defaultValue:null,description:"Additional CSS class name",name:"className",required:!1,type:{name:"string | undefined"}}}}}catch{}const E=({value:e,onRemove:a})=>!e||e.length===0?null:t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:e.map((l,o)=>t.jsx(C,{label:l.name,onClose:a?()=>a(o):void 0},`${l.name}-${o}`))});try{E.displayName="MultiFileValueComponent",E.__docgenInfo={description:"",displayName:"MultiFileValueComponent",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"File[] | null"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"((index: number) => void) | undefined"}}}}}catch{}var oe="_2ow3wh0",se="_2ow3wh1",A="_2ow3wh2",ie="_2ow3wh3",ue="_2ow3wh4",de="_2ow3wh5",ce="_2ow3wh6",pe="_2ow3wh7",fe="_2ow3wh8";const w=h.forwardRef((e,a)=>{const{State:l,Upload_icon:o,Clear_icon:p,disabled:f,error:r,value:m,onChange:s,...n}=e,b=i=>{if(Array.isArray(m)&&s){const u=m.filter((I,g)=>g!==i);s(u)}},_=()=>l&&l!=="Enabled"?l:e.disabled?"Disabled":e.error||e.Error_text?"Error":"Enabled",x=i=>{switch(i){case"Enabled":return A;case"Disabled":return ie;case"Error":return ue;case"Error focused":return de;case"Focused":return ce;default:return A}},d=()=>e.disabled?"":e.error||e.Error_text?fe:pe,v=_(),y=d();return t.jsx(J,{...e,children:t.jsx(ne,{...n,ref:a,disabled:f,error:r,value:m,onChange:s,valueComponent:e.multiple?i=>{const u=Array.isArray(i.value)?i.value:null;return t.jsx(E,{value:u,onRemove:b})}:void 0,classNames:{...typeof n.classNames=="object"?n.classNames:{},wrapper:`${oe} ${x(v)} ${y} ${typeof n.classNames=="object"&&n.classNames?.wrapper||""}`,input:`${se} ${typeof n.classNames=="object"&&n.classNames?.input||""}`}})})});w.displayName="FileInput";try{w.displayName="FileInput",w.__docgenInfo={description:"",displayName:"FileInput",props:{State:{defaultValue:null,description:"Visual state for visual testing purposes.  Not used for actual logic",name:"State",required:!0,type:{name:"enum",value:[{value:'"Enabled"'},{value:'"Disabled"'},{value:'"Error"'},{value:'"Error focused"'},{value:'"Focused"'}]}},Upload_icon:{defaultValue:null,description:"Show/hide the upload icon.  Default is true",name:"Upload_icon",required:!0,type:{name:"boolean"}},Clear_icon:{defaultValue:null,description:"Show/hide the clear icon (optional)",name:"Clear_icon",required:!0,type:{name:"boolean"}},Layout:{defaultValue:null,description:"Layout orientation - stacked (top) or side-by-side (left).  Default is stacked",name:"Layout",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"Stacked"'},{value:'"Side-by-side"'}]}},Label:{defaultValue:null,description:"The label component.  This is typically just a string, but if you want to use your own label component, you can",name:"Label",required:!1,type:{name:"ReactNode"}},LabelProps:{defaultValue:null,description:"Props to be passed to the label component if its a custom component",name:"LabelProps",required:!1,type:{name:"(FigmaProps & InputLabelProps & DataAttributes) | undefined"}},required:{defaultValue:{value:"`false`"},description:`Sets if the field is required.  Passed down to the underlying component
Adds required attribute to the input and a red asterisk on the right side of label`,name:"required",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:null,description:"Sets if the field is disabled.  Passed down to the underlying component\nSets `disabled` attribute on the `input` element",name:"disabled",required:!1,type:{name:"boolean | undefined"}},Indicator:{defaultValue:null,description:"Optional.  Set to true if field is optional",name:"Indicator",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"none"'},{value:'"optional"'},{value:'"asterisk / truncate overflow"'},{value:'"asterisk / full label text"'}]}},Help_text:{defaultValue:null,description:"Help text to be shown.  Maps to the mantine description prop",name:"Help_text",required:!1,type:{name:"ReactNode"}},Help_textProps:{defaultValue:null,description:"Custom help text component.  If provided, the Help_text prop will be ignored",name:"Help_textProps",required:!1,type:{name:"(HelpTextProps & DataAttributes) | undefined"}},Error_text:{defaultValue:null,description:"Error text to be shown.  Maps to the mantine error prop",name:"Error_text",required:!1,type:{name:"ReactNode"}},Error_textProps:{defaultValue:null,description:"Custom error text component.  If provided, the Error_text prop will be ignored",name:"Error_textProps",required:!1,type:{name:"(ErrorTextProps & DataAttributes) | undefined"}},Show_label:{defaultValue:null,description:"Shows/hides the label",name:"Show_label",required:!1,type:{name:"boolean | undefined"}},children:{defaultValue:null,description:"The Mantine form component to wrap (e.g., TextInput, Select, etc.)",name:"children",required:!1,type:{name:"ReactElement<MantineComponentProps, string | JSXElementConstructor<any>> & ReactNode"}}}}}catch{}const Se={title:"Components/FileInput",component:w,argTypes:{...X,multiple:{control:"boolean",description:"Allow multiple file selection"},State:{control:{type:"select"},options:["Enabled","Disabled","Error","Error focused","Focused"],description:"Visual state for testing purposes"},Upload_icon:{control:"boolean",description:"Show/hide the upload icon"},Clear_icon:{control:"boolean",description:"Show/hide the clear icon"}}},me=e=>{const[a,l]=h.useState(null);return t.jsx(w,{...e,value:a,onChange:l})},F={args:{Label:"File Input",State:"Enabled",Upload_icon:!0,Clear_icon:!0,Help_text:"Select files to upload",Error_text:"",required:!1,disabled:!1,multiple:!1,placeholder:"Select a file"},render:me};F.parameters={...F.parameters,docs:{...F.parameters?.docs,source:{originalSource:`{
  args: {
    Label: "File Input",
    State: "Enabled",
    Upload_icon: true,
    Clear_icon: true,
    Help_text: "Select files to upload",
    Error_text: "",
    required: false,
    disabled: false,
    multiple: false,
    placeholder: "Select a file"
  },
  render: FileInputDemo
}`,...F.parameters?.docs?.source}}};const Fe=["Default"];export{F as Default,Fe as __namedExportsOrder,Se as default};
