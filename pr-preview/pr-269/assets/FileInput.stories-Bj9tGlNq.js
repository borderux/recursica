import{r as b,j as a}from"./iframe-B9Jd1eqC.js";import{I as R,F as W,f as z}from"./FormFieldLayout.stories.helper-C9BsgNj-.js";import{u as J,C as X,I as G}from"./Input-Cx8ZZ3YI.js";import{u as j,f as K}from"./UnstyledButton-DyEOAy_y.js";import{a as Q,b as A,u as Y}from"./use-uncontrolled-BfewEECp.js";import"./preload-helper-PPVm8Dsz.js";import"./Label-CapSqBGF.js";import"./ErrorText-BInq7pCT.js";const Z={multiple:!1},D=b.forwardRef((e,o)=>{const{onChange:t,children:i,multiple:u,accept:d,name:p,form:r,resetRef:s,disabled:c,capture:f,inputProps:m,...h}=j("FileButton",Z,e),l=b.useRef(null),v=()=>{!c&&l.current?.click()},_=y=>{if(y.currentTarget.files===null)return t(u?[]:null);t(u?Array.from(y.currentTarget.files):y.currentTarget.files[0]||null)};return Q(s,()=>{l.current&&(l.current.value="")}),a.jsxs(a.Fragment,{children:[a.jsx("input",{style:{display:"none"},type:"file",accept:d,multiple:u,onChange:_,ref:A(o,l),name:p,form:r,capture:f,...m}),i({onClick:v,...h})]})});D.displayName="@mantine/core/FileButton";const ee=({value:e})=>a.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(e)?e.map(o=>o.name).join(", "):e?.name}),te={valueComponent:ee},g=K((e,o)=>{const t=j("FileInput",te,e),{unstyled:i,vars:u,onChange:d,value:p,defaultValue:r,multiple:s,accept:c,name:f,form:m,valueComponent:h,clearable:l,clearButtonProps:v,readOnly:_,capture:S,fileInputProps:y,rightSection:L,size:E,placeholder:H,component:T,resetRef:k,classNames:F,styles:I,attributes:P,...$}=t,C=b.useRef(null),{resolvedClassNames:B,resolvedStyles:U}=J({classNames:F,styles:I,props:t}),[n,V]=Y({value:p,defaultValue:r,onChange:d,finalValue:s?[]:null}),q=Array.isArray(n)?n.length!==0:n!==null,M=L||(l&&q&&!_?a.jsx(X,{...v,variant:"subtle",onClick:()=>V(s?[]:null),size:E,unstyled:i}):null);return b.useEffect(()=>{(Array.isArray(n)&&n.length===0||n===null)&&C.current?.()},[n]),a.jsx(D,{onChange:V,multiple:s,accept:c,name:f,form:m,resetRef:A(C,k),disabled:_,capture:S,inputProps:y,children:O=>a.jsx(R,{component:T||"button",ref:o,rightSection:M,...O,...$,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:t,unstyled:i,size:E,classNames:F,styles:I,attributes:P,children:q?a.jsx(h,{value:n}):a.jsx(G.Placeholder,{__staticSelector:"FileInput",classNames:B,styles:U,attributes:P,children:H})})})});g.classes=R.classes;g.displayName="@mantine/core/FileInput";const re=g;var ae="_2ow3wh0",le="_2ow3wh1",N="_2ow3wh2",ne="_2ow3wh3",oe="_2ow3wh4",se="_2ow3wh5",ie="_2ow3wh6",ue="_2ow3wh7",de="_2ow3wh8";const x=b.forwardRef((e,o)=>{const{State:t,Upload_icon:i,Clear_icon:u,disabled:d,error:p,...r}=e,s=()=>t&&t!=="Enabled"?t:e.disabled?"Disabled":e.error||e.Error_text?"Error":"Enabled",c=l=>{switch(l){case"Enabled":return N;case"Disabled":return ne;case"Error":return oe;case"Error focused":return se;case"Focused":return ie;default:return N}},f=()=>e.disabled?"":e.error||e.Error_text?de:ue,m=s(),h=f();return a.jsx(W,{...e,children:a.jsx(re,{...r,ref:o,disabled:d,error:p,classNames:{...typeof r.classNames=="object"?r.classNames:{},wrapper:`${ae} ${c(m)} ${h} ${typeof r.classNames=="object"&&r.classNames?.wrapper||""}`,input:`${le} ${typeof r.classNames=="object"&&r.classNames?.input||""}`}})})});x.displayName="FileInput";try{x.displayName="FileInput",x.__docgenInfo={description:"",displayName:"FileInput",props:{State:{defaultValue:null,description:"Visual state for visual testing purposes.  Not used for actual logic",name:"State",required:!0,type:{name:"enum",value:[{value:'"Enabled"'},{value:'"Disabled"'},{value:'"Error"'},{value:'"Error focused"'},{value:'"Focused"'}]}},Upload_icon:{defaultValue:null,description:"Show/hide the upload icon.  Default is true",name:"Upload_icon",required:!0,type:{name:"boolean"}},Clear_icon:{defaultValue:null,description:"Show/hide the clear icon (optional)",name:"Clear_icon",required:!0,type:{name:"boolean"}},Layout:{defaultValue:null,description:"Layout orientation - stacked (top) or side-by-side (left).  Default is stacked",name:"Layout",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"Stacked"'},{value:'"Side-by-side"'}]}},Label:{defaultValue:null,description:"The label component.  This is typically just a string, but if you want to use your own label component, you can",name:"Label",required:!1,type:{name:"ReactNode"}},LabelProps:{defaultValue:null,description:"Props to be passed to the label component if its a custom component",name:"LabelProps",required:!1,type:{name:"(FigmaProps & InputLabelProps & DataAttributes) | undefined"}},required:{defaultValue:{value:"`false`"},description:`Sets if the field is required.  Passed down to the underlying component
Adds required attribute to the input and a red asterisk on the right side of label`,name:"required",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:null,description:"Sets if the field is disabled.  Passed down to the underlying component\nSets `disabled` attribute on the `input` element",name:"disabled",required:!1,type:{name:"boolean | undefined"}},Indicator:{defaultValue:null,description:"Optional.  Set to true if field is optional",name:"Indicator",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"none"'},{value:'"optional"'},{value:'"asterisk / truncate overflow"'},{value:'"asterisk / full label text"'}]}},Help_text:{defaultValue:null,description:"Help text to be shown.  Maps to the mantine description prop",name:"Help_text",required:!1,type:{name:"ReactNode"}},Help_textProps:{defaultValue:null,description:"Custom help text component.  If provided, the Help_text prop will be ignored",name:"Help_textProps",required:!1,type:{name:"(HelpTextProps & DataAttributes) | undefined"}},Error_text:{defaultValue:null,description:"Error text to be shown.  Maps to the mantine error prop",name:"Error_text",required:!1,type:{name:"ReactNode"}},Error_textProps:{defaultValue:null,description:"Custom error text component.  If provided, the Error_text prop will be ignored",name:"Error_textProps",required:!1,type:{name:"(ErrorTextProps & DataAttributes) | undefined"}},Show_label:{defaultValue:null,description:"Shows/hides the label",name:"Show_label",required:!1,type:{name:"boolean | undefined"}},children:{defaultValue:null,description:"The Mantine form component to wrap (e.g., TextInput, Select, etc.)",name:"children",required:!1,type:{name:"ReactElement<MantineComponentProps, string | JSXElementConstructor<any>> & ReactNode"}}}}}catch{}const we={title:"Components/FileInput",component:x,argTypes:z},w={args:{Label:"File Input",State:"Enabled",Upload_icon:!0,Clear_icon:!0,Help_text:"Help text",Error_text:"",required:!1,disabled:!1,placeholder:"Select a file"}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  args: {
    Label: "File Input",
    State: "Enabled",
    Upload_icon: true,
    Clear_icon: true,
    Help_text: "Help text",
    Error_text: "",
    required: false,
    disabled: false,
    placeholder: "Select a file"
  }
}`,...w.parameters?.docs?.source}}};const xe=["Default"];export{w as Default,xe as __namedExportsOrder,we as default};
