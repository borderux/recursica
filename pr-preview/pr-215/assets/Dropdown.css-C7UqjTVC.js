import{j as b,g as Ce,r as p,a as we}from"./iframe-dbytajQO.js";import{B as P,a as Oe}from"./Box-Bb1kiBkX.js";import{a as Se}from"./CheckIcon-F_es3FSN.js";import{P as $,S as Ae}from"./Popover-CcusUiqj.js";import{c as X,b as L,e as Q}from"./Typography.css.ts.vanilla-DQO5FK-a.js";import{f as A,u as O,a as Y}from"./polymorphic-factory-0QkwTdYd.js";import{c as Ne}from"./create-safe-context-eBZaqcEA.js";import{I as ee}from"./Input-Df9cCYzH.js";import{i as F}from"./is-element-CTk1a3js.js";import{a as Ee}from"./OptionalPortal-CWBOt8kS.js";import{u as z}from"./use-merged-ref-CXzjzbnd.js";import{u as oe}from"./use-id-q1_4zNAf.js";import{u as je}from"./use-uncontrolled-Brp-5qDk.js";function te(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(o=>te(o))}:e}function no(e){return e?e.map(o=>te(o)):[]}function Ie(e){return e.reduce((o,t)=>"group"in t?{...o,...Ie(t.items)}:(o[t.value]=t,o),{})}var C={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const De={error:null},ke=X((e,{size:o,color:t})=>({chevron:{"--combobox-chevron-size":L(o,"combobox-chevron-size"),"--combobox-chevron-color":t?Ce(t,e):void 0}})),H=A((e,o)=>{const t=O("ComboboxChevron",De,e),{size:s,error:n,style:c,className:r,classNames:i,styles:a,unstyled:l,vars:f,mod:u,...m}=t,y=Y({name:"ComboboxChevron",classes:C,props:t,style:c,className:r,classNames:i,styles:a,unstyled:l,vars:f,varsResolver:ke,rootSelector:"chevron"});return b.jsx(P,{component:"svg",...m,...y("chevron"),size:s,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:n},u],ref:o,children:b.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});H.classes=C;H.displayName="@mantine/core/ComboboxChevron";const[Te,N]=Ne("Combobox component was not found in tree"),re=p.forwardRef(({size:e,onMouseDown:o,onClick:t,onClear:s,...n},c)=>b.jsx(ee.ClearButton,{ref:c,tabIndex:-1,"aria-hidden":!0,...n,onMouseDown:r=>{r.preventDefault(),o==null||o(r)},onClick:r=>{s(),t==null||t(r)}}));re.displayName="@mantine/core/ComboboxClearButton";const q=A((e,o)=>{const{classNames:t,styles:s,className:n,style:c,hidden:r,...i}=O("ComboboxDropdown",null,e),a=N();return b.jsx($.Dropdown,{...i,ref:o,role:"presentation","data-hidden":r||void 0,...a.getStyles("dropdown",{className:n,style:c,classNames:t,styles:s})})});q.classes=C;q.displayName="@mantine/core/ComboboxDropdown";const Pe={refProp:"ref"},se=A((e,o)=>{const{children:t,refProp:s}=O("ComboboxDropdownTarget",Pe,e);if(N(),!F(t))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return b.jsx($.Target,{ref:o,refProp:s,children:t})});se.displayName="@mantine/core/ComboboxDropdownTarget";const K=A((e,o)=>{const{classNames:t,className:s,style:n,styles:c,vars:r,...i}=O("ComboboxEmpty",null,e),a=N();return b.jsx(P,{ref:o,...a.getStyles("empty",{className:s,classNames:t,styles:c,style:n}),...i})});K.classes=C;K.displayName="@mantine/core/ComboboxEmpty";function V({onKeyDown:e,withKeyboardNavigation:o,withAriaAttributes:t,withExpandedAttribute:s,targetType:n,autoComplete:c}){const r=N(),[i,a]=p.useState(null),l=u=>{if(e==null||e(u),!r.readOnly&&o){if(u.nativeEvent.isComposing)return;if(u.nativeEvent.code==="ArrowDown"&&(u.preventDefault(),r.store.dropdownOpened?a(r.store.selectNextOption()):(r.store.openDropdown("keyboard"),a(r.store.selectActiveOption()),r.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),u.nativeEvent.code==="ArrowUp"&&(u.preventDefault(),r.store.dropdownOpened?a(r.store.selectPreviousOption()):(r.store.openDropdown("keyboard"),a(r.store.selectActiveOption()),r.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),u.nativeEvent.code==="Enter"||u.nativeEvent.code==="NumpadEnter"){if(u.nativeEvent.keyCode===229)return;const m=r.store.getSelectedOptionIndex();r.store.dropdownOpened&&m!==-1?(u.preventDefault(),r.store.clickSelectedOption()):n==="button"&&(u.preventDefault(),r.store.openDropdown("keyboard"))}u.key==="Escape"&&r.store.closeDropdown("keyboard"),u.nativeEvent.code==="Space"&&n==="button"&&(u.preventDefault(),r.store.toggleDropdown("keyboard"))}};return{...t?{"aria-haspopup":"listbox","aria-expanded":s?!!(r.store.listId&&r.store.dropdownOpened):void 0,"aria-controls":r.store.dropdownOpened&&r.store.listId?r.store.listId:void 0,"aria-activedescendant":r.store.dropdownOpened&&i||void 0,autoComplete:c,"data-expanded":r.store.dropdownOpened||void 0,"data-mantine-stop-propagation":r.store.dropdownOpened||void 0}:{},onKeyDown:l}}const _e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ne=A((e,o)=>{const{children:t,refProp:s,withKeyboardNavigation:n,withAriaAttributes:c,withExpandedAttribute:r,targetType:i,autoComplete:a,...l}=O("ComboboxEventsTarget",_e,e);if(!F(t))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=N(),u=V({targetType:i,withAriaAttributes:c,withKeyboardNavigation:n,withExpandedAttribute:r,onKeyDown:t.props.onKeyDown,autoComplete:a});return p.cloneElement(t,{...u,...l,[s]:z(o,f.store.targetRef,Ee(t))})});ne.displayName="@mantine/core/ComboboxEventsTarget";const B=A((e,o)=>{const{classNames:t,className:s,style:n,styles:c,vars:r,...i}=O("ComboboxFooter",null,e),a=N();return b.jsx(P,{ref:o,...a.getStyles("footer",{className:s,classNames:t,style:n,styles:c}),...i,onMouseDown:l=>{l.preventDefault()}})});B.classes=C;B.displayName="@mantine/core/ComboboxFooter";const G=A((e,o)=>{const{classNames:t,className:s,style:n,styles:c,vars:r,children:i,label:a,id:l,...f}=O("ComboboxGroup",null,e),u=N(),m=oe(l);return b.jsxs(P,{ref:o,role:"group","aria-labelledby":a?m:void 0,...u.getStyles("group",{className:s,classNames:t,style:n,styles:c}),...f,children:[a&&b.jsx("div",{id:m,...u.getStyles("groupLabel",{classNames:t,styles:c}),children:a}),i]})});G.classes=C;G.displayName="@mantine/core/ComboboxGroup";const U=A((e,o)=>{const{classNames:t,className:s,style:n,styles:c,vars:r,...i}=O("ComboboxHeader",null,e),a=N();return b.jsx(P,{ref:o,...a.getStyles("header",{className:s,classNames:t,style:n,styles:c}),...i,onMouseDown:l=>{l.preventDefault()}})});U.classes=C;U.displayName="@mantine/core/ComboboxHeader";function ae({value:e,valuesDivider:o=",",...t}){return b.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(o):e||"",...t})}ae.displayName="@mantine/core/ComboboxHiddenInput";const M=A((e,o)=>{const t=O("ComboboxOption",null,e),{classNames:s,className:n,style:c,styles:r,vars:i,onClick:a,id:l,active:f,onMouseDown:u,onMouseOver:m,disabled:y,selected:j,mod:k,...I}=t,v=N(),T=p.useId(),E=l||T;return b.jsx(P,{...v.getStyles("option",{className:n,classNames:s,styles:r,style:c}),...I,ref:o,id:E,mod:["combobox-option",{"combobox-active":f,"combobox-disabled":y,"combobox-selected":j},k],role:"option",onClick:x=>{var D;y?x.preventDefault():((D=v.onOptionSubmit)==null||D.call(v,t.value,t),a==null||a(x))},onMouseDown:x=>{x.preventDefault(),u==null||u(x)},onMouseOver:x=>{v.resetSelectionOnOptionHover&&v.store.resetSelectedOption(),m==null||m(x)}})});M.classes=C;M.displayName="@mantine/core/ComboboxOption";const Z=A((e,o)=>{const t=O("ComboboxOptions",null,e),{classNames:s,className:n,style:c,styles:r,id:i,onMouseDown:a,labelledBy:l,...f}=t,u=N(),m=oe(i);return p.useEffect(()=>{u.store.setListId(m)},[m]),b.jsx(P,{ref:o,...u.getStyles("options",{className:n,style:c,classNames:s,styles:r}),...f,id:m,role:"listbox","aria-labelledby":l,onMouseDown:y=>{y.preventDefault(),a==null||a(y)}})});Z.classes=C;Z.displayName="@mantine/core/ComboboxOptions";const Re={withAriaAttributes:!0,withKeyboardNavigation:!0},W=A((e,o)=>{const t=O("ComboboxSearch",Re,e),{classNames:s,styles:n,unstyled:c,vars:r,withAriaAttributes:i,onKeyDown:a,withKeyboardNavigation:l,size:f,...u}=t,m=N(),y=m.getStyles("search"),j=V({targetType:"input",withAriaAttributes:i,withKeyboardNavigation:l,withExpandedAttribute:!1,onKeyDown:a,autoComplete:"off"});return b.jsx(ee,{ref:z(o,m.store.searchRef),classNames:[{input:y.className},s],styles:[{input:y.style},n],size:f||m.size,...j,...u,__staticSelector:"Combobox"})});W.classes=C;W.displayName="@mantine/core/ComboboxSearch";const $e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ie=A((e,o)=>{const{children:t,refProp:s,withKeyboardNavigation:n,withAriaAttributes:c,withExpandedAttribute:r,targetType:i,autoComplete:a,...l}=O("ComboboxTarget",$e,e);if(!F(t))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=N(),u=V({targetType:i,withAriaAttributes:c,withKeyboardNavigation:n,withExpandedAttribute:r,onKeyDown:t.props.onKeyDown,autoComplete:a}),m=p.cloneElement(t,{...u,...l});return b.jsx($.Target,{ref:z(o,f.store.targetRef),children:m})});ie.displayName="@mantine/core/ComboboxTarget";function Le(e,o,t){for(let s=e-1;s>=0;s-=1)if(!o[s].hasAttribute("data-combobox-disabled"))return s;if(t){for(let s=o.length-1;s>-1;s-=1)if(!o[s].hasAttribute("data-combobox-disabled"))return s}return e}function Fe(e,o,t){for(let s=e+1;s<o.length;s+=1)if(!o[s].hasAttribute("data-combobox-disabled"))return s;if(t){for(let s=0;s<o.length;s+=1)if(!o[s].hasAttribute("data-combobox-disabled"))return s}return e}function ze(e){for(let o=0;o<e.length;o+=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o;return-1}function He({defaultOpened:e,opened:o,onOpenedChange:t,onDropdownClose:s,onDropdownOpen:n,loop:c=!0,scrollBehavior:r="instant"}={}){const[i,a]=je({value:o,defaultValue:e,finalValue:!1,onChange:t}),l=p.useRef(null),f=p.useRef(-1),u=p.useRef(null),m=p.useRef(null),y=p.useRef(-1),j=p.useRef(-1),k=p.useRef(-1),I=p.useCallback((d="unknown")=>{i||(a(!0),n==null||n(d))},[a,n,i]),v=p.useCallback((d="unknown")=>{i&&(a(!1),s==null||s(d))},[a,s,i]),T=p.useCallback((d="unknown")=>{i?v(d):I(d)},[v,I,i]),E=p.useCallback(()=>{const d=document.querySelector(`#${l.current} [data-combobox-selected]`);d==null||d.removeAttribute("data-combobox-selected"),d==null||d.removeAttribute("aria-selected")},[]),x=p.useCallback(d=>{const w=document.getElementById(l.current),g=w==null?void 0:w.querySelectorAll("[data-combobox-option]");if(!g)return null;const S=d>=g.length?0:d<0?g.length-1:d;return f.current=S,g!=null&&g[S]&&!g[S].hasAttribute("data-combobox-disabled")?(E(),g[S].setAttribute("data-combobox-selected","true"),g[S].setAttribute("aria-selected","true"),g[S].scrollIntoView({block:"nearest",behavior:r}),g[S].id):null},[r,E]),D=p.useCallback(()=>{const d=document.querySelector(`#${l.current} [data-combobox-active]`);if(d){const w=document.querySelectorAll(`#${l.current} [data-combobox-option]`),g=Array.from(w).findIndex(S=>S===d);return x(g)}return x(0)},[x]),_=p.useCallback(()=>x(Fe(f.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),c)),[x,c]),de=p.useCallback(()=>x(Le(f.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),c)),[x,c]),pe=p.useCallback(()=>x(ze(document.querySelectorAll(`#${l.current} [data-combobox-option]`))),[x]),be=p.useCallback((d="selected",w)=>{k.current=window.setTimeout(()=>{var J;const g=document.querySelectorAll(`#${l.current} [data-combobox-option]`),S=Array.from(g).findIndex(ve=>ve.hasAttribute(`data-combobox-${d}`));f.current=S,w!=null&&w.scrollIntoView&&((J=g[S])==null||J.scrollIntoView({block:"nearest",behavior:r}))},0)},[]),me=p.useCallback(()=>{f.current=-1,E()},[E]),fe=p.useCallback(()=>{const d=document.querySelectorAll(`#${l.current} [data-combobox-option]`),w=d==null?void 0:d[f.current];w==null||w.click()},[]),xe=p.useCallback(d=>{l.current=d},[]),he=p.useCallback(()=>{y.current=window.setTimeout(()=>{var d;return(d=u.current)==null?void 0:d.focus()},0)},[]),ye=p.useCallback(()=>{j.current=window.setTimeout(()=>{var d;return(d=m.current)==null?void 0:d.focus()},0)},[]),ge=p.useCallback(()=>f.current,[]);return p.useEffect(()=>()=>{window.clearTimeout(y.current),window.clearTimeout(j.current),window.clearTimeout(k.current)},[]),{dropdownOpened:i,openDropdown:I,closeDropdown:v,toggleDropdown:T,selectedOptionIndex:f.current,getSelectedOptionIndex:ge,selectOption:x,selectFirstOption:pe,selectActiveOption:D,selectNextOption:_,selectPreviousOption:de,resetSelectedOption:me,updateSelectedOptionIndex:be,listId:l.current,setListId:xe,clickSelectedOption:fe,searchRef:u,focusSearchInput:he,targetRef:m,focusTarget:ye}}const qe={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},Ke=X((e,{size:o,dropdownPadding:t})=>({options:{"--combobox-option-fz":Q(o),"--combobox-option-padding":L(o,"combobox-option-padding")},dropdown:{"--combobox-padding":t===void 0?void 0:we(t),"--combobox-option-fz":Q(o),"--combobox-option-padding":L(o,"combobox-option-padding")}}));function h(e){const o=O("Combobox",qe,e),{classNames:t,styles:s,unstyled:n,children:c,store:r,vars:i,onOptionSubmit:a,onClose:l,size:f,dropdownPadding:u,resetSelectionOnOptionHover:m,__staticSelector:y,readOnly:j,attributes:k,...I}=o,v=He(),T=r||v,E=Y({name:y||"Combobox",classes:C,props:o,classNames:t,styles:s,unstyled:n,attributes:k,vars:i,varsResolver:Ke}),x=()=>{l==null||l(),T.closeDropdown()};return b.jsx(Te,{value:{getStyles:E,store:T,onOptionSubmit:a,size:f,resetSelectionOnOptionHover:m,readOnly:j},children:b.jsx($,{opened:T.dropdownOpened,preventPositionChangeWhenVisible:!0,...I,onChange:D=>!D&&x(),withRoles:!1,unstyled:n,children:c})})}const Ve=e=>e;h.extend=Ve;h.classes=C;h.displayName="@mantine/core/Combobox";h.Target=ie;h.Dropdown=q;h.Options=Z;h.Option=M;h.Search=W;h.Empty=K;h.Chevron=H;h.Footer=B;h.Header=U;h.EventsTarget=ne;h.DropdownTarget=se;h.Group=G;h.ClearButton=re;h.HiddenInput=ae;function R(e){return"group"in e}function ce({options:e,search:o,limit:t}){const s=o.trim().toLowerCase(),n=[];for(let c=0;c<e.length;c+=1){const r=e[c];if(n.length===t)return n;R(r)&&n.push({group:r.group,items:ce({options:r.items,search:o,limit:t-n.length})}),R(r)||r.label.toLowerCase().includes(s)&&n.push(r)}return n}function Be(e){if(e.length===0)return!0;for(const o of e)if(!("group"in o)||o.items.length>0)return!1;return!0}function le(e,o=new Set){if(Array.isArray(e))for(const t of e)if(R(t))le(t.items,o);else{if(typeof t.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof t.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof t.value}`);if(o.has(t.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${t.value}" was provided more than once`);o.add(t.value)}}function Ge(e,o){return Array.isArray(e)?e.includes(o):e===o}function ue({data:e,withCheckIcon:o,value:t,checkIconPosition:s,unstyled:n,renderOption:c}){if(!R(e)){const i=Ge(t,e.value),a=o&&i&&b.jsx(Se,{className:C.optionsDropdownCheckIcon}),l=b.jsxs(b.Fragment,{children:[s==="left"&&a,b.jsx("span",{children:e.label}),s==="right"&&a]});return b.jsx(h.Option,{value:e.value,disabled:e.disabled,className:Oe({[C.optionsDropdownOption]:!n}),"data-reverse":s==="right"||void 0,"data-checked":i||void 0,"aria-selected":i,active:i,children:typeof c=="function"?c({option:e,checked:i}):l})}const r=e.items.map(i=>b.jsx(ue,{data:i,value:t,unstyled:n,withCheckIcon:o,checkIconPosition:s,renderOption:c},i.value));return b.jsx(h.Group,{label:e.group,children:r})}function ao({data:e,hidden:o,hiddenWhenEmpty:t,filter:s,search:n,limit:c,maxDropdownHeight:r,withScrollArea:i=!0,filterOptions:a=!0,withCheckIcon:l=!1,value:f,checkIconPosition:u,nothingFoundMessage:m,unstyled:y,labelId:j,renderOption:k,scrollAreaProps:I,"aria-label":v}){le(e);const E=typeof n=="string"?(s||ce)({options:e,search:a?n:"",limit:c??1/0}):e,x=Be(E),D=E.map(_=>b.jsx(ue,{data:_,withCheckIcon:l,value:f,checkIconPosition:u,unstyled:y,renderOption:k},R(_)?_.group:_.value));return b.jsx(h.Dropdown,{hidden:o||t&&x,"data-composed":!0,children:b.jsxs(h.Options,{labelledBy:j,"aria-label":v,children:[i?b.jsx(Ae.Autosize,{mah:r??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...I,children:D}):D,x&&m&&b.jsx(h.Empty,{children:m})]})})}var io="recursica-10j00y45",co="recursica-10j00y47",lo="recursica-10j00y48",uo={root:"recursica-10j00y40",wrapper:"recursica-10j00y41",input:"recursica-10j00y42",section:"recursica-10j00y43",dropdown:"recursica-10j00y44",checkbox:"recursica-10j00y49",option:"recursica-10j00y46",label:"recursica-10j00y4a"};export{h as C,ao as O,Ie as a,co as e,no as g,R as i,lo as l,io as o,uo as s,He as u};
